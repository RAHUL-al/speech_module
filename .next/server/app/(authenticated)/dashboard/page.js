(()=>{var e={};e.id=172,e.ids=[172],e.modules={296:(e,t,r)=>{"use strict";r.d(t,{k5:()=>c});var a=r(3210),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=a.createContext&&a.createContext(i),n=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var a,i,s;a=e,i=t,s=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[i]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e){return t=>a.createElement(u,o({attr:d({},e.attr)},t),function e(t){return t&&t.map((t,r)=>a.createElement(t.tag,d({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:i,size:s,title:l}=e,c=function(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,n),u=s||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:r,style:d(d({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&a.createElement("title",null,l),e.children)};return void 0!==s?a.createElement(s.Consumer,null,e=>t(e)):t(i)}},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},920:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/ubuntu/src/components/Dashboard/DashboardPage.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/ubuntu/src/components/Dashboard/DashboardPage.tsx","default")},1025:(e,t,r)=>{Promise.resolve().then(r.bind(r,7732)),Promise.resolve().then(r.bind(r,2575))},1645:(e,t,r)=>{Promise.resolve().then(r.bind(r,2247))},1977:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=r(5239),i=r(8088),s=r(8170),n=r.n(s),o=r(893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["(authenticated)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6998)),"/home/ubuntu/src/app/(authenticated)/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8734)),"/home/ubuntu/src/app/(authenticated)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4431)),"/home/ubuntu/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/ubuntu/src/app/(authenticated)/dashboard/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/(authenticated)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2247:(e,t,r)=>{"use strict";r.d(t,{default:()=>g});var a=r(687),i=r(3210),s=r(6815),n=r(485),o=r(5533),l=r(4241),d=r(9587),c=r(6001),u=r(8920),m=r(6189),p=r(7590),x=r(296);function h(e){return(0,x.k5)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(e)}let g=()=>{let e=(0,o.jL)(),t=(0,m.useRouter)(),{generatedParagraph:r,isLoading:x,essayId:g}=(0,o.GV)(e=>e.paragraph),[b,f]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),j=(0,i.useRef)(null),[w,N]=(0,i.useState)("form"),P=localStorage.getItem("username")||"unknown_user",k=["1","2","3","4","5","6","7","8","9","10","11","12"],O=["American","British","Australian","Indian","Canadian","Irish"],C=["Happy","Excited","Calm","Serious","Playful","Confident"],S=["Easy","Medium","Strong"],_=n.Ik({class:n.Yj().required("Class is required"),accent:n.Yj().required("Accent is required"),topic:n.Yj().required("Topic is required").min(3,"Topic must be at least 3 characters"),mood:n.Yj().required("Mood is required"),difficulty:n.Yj().required("Difficulty is required")});(0,i.useEffect)(()=>()=>{j.current&&(j.current.pause(),j.current=null)},[]);let E=(()=>{try{let e=localStorage.getItem("access_token")||sessionStorage.getItem("access_token")||"";return e?`Bearer ${e}`:""}catch(e){return console.error("Error retrieving auth token:",e),""}})(),q=async()=>{if(!P||!E)return void p.oR.error("Authentication required");y(!0);try{let e=process.env.NEXT_PUBLIC_API_URL||"api/",t=await fetch(`${e}/get-tts-audio?username=${P}`,{headers:{Authorization:`${E}`}});if(!t.ok)throw Error("Audio fetch failed");let r=await t.blob(),a=URL.createObjectURL(r);j.current&&(j.current.pause(),j.current=null),j.current=new Audio(a),j.current.onended=()=>f(!1),j.current.onpause=()=>f(!1),await j.current.play(),f(!0)}catch(e){p.oR.error("Failed to play audio: "+e.message)}finally{y(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center px-4 py-4",children:(0,a.jsxs)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"w-full max-w-3xl bg-white shadow-2xl rounded-2xl overflow-hidden border border-gray-200",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 py-5 px-6 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white opacity-10"}),(0,a.jsx)("div",{className:"absolute -right-10 -top-10 w-40 h-40 rounded-full bg-pink-500 opacity-20"}),(0,a.jsx)("div",{className:"absolute -right-5 -bottom-10 w-32 h-32 rounded-full bg-indigo-500 opacity-20"}),(0,a.jsxs)("div",{className:"relative z-10 flex items-center justify-center gap-3",children:[(0,a.jsx)(c.P.div,{animate:{rotate:[0,15,0,-15,0]},transition:{duration:2,repeat:1/0},children:(0,a.jsx)(d.y8Q,{className:"text-white text-3xl"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-white text-center",children:"AI English Practice Generator"})]})]}),(0,a.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,a.jsx)("button",{onClick:()=>N("form"),className:`flex-1 py-4 font-medium text-center transition-all duration-300 ${"form"===w?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(d.T_n,{className:"text-sm"}),(0,a.jsx)("span",{children:"Create Practice"})]})}),(0,a.jsx)("button",{onClick:()=>r&&N("paragraph"),className:`flex-1 py-4 font-medium text-center transition-all duration-300 ${"paragraph"===w?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"+(r?"":" opacity-50 cursor-not-allowed")}`,disabled:!r,children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(d.gSK,{className:"text-sm"}),(0,a.jsx)("span",{children:"Your Practice"})]})})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)(u.N,{mode:"wait",children:"form"===w?(0,a.jsx)(c.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:(0,a.jsx)(s.l1,{initialValues:{class:"",accent:"",topic:"",mood:"",difficulty:""},validationSchema:_,onSubmit:t=>{e((0,l.mU)(t)).unwrap().then(()=>{N("paragraph"),p.oR.success("Paragraph generated successfully!")}).catch(e=>{p.oR.error(e||"Failed to generate paragraph")})},children:({isValid:e,dirty:t})=>(0,a.jsxs)(s.lV,{children:[(0,a.jsxs)("div",{className:"grid gap-6 mb-6 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:["Class ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(s.D0,{as:"select",name:"class",className:"appearance-none bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-3 pr-10 shadow-sm transition duration-200",children:[(0,a.jsx)("option",{value:"",children:"Select class"}),k.map(e=>(0,a.jsxs)("option",{value:e,children:["Grade ",e]},e))]}),(0,a.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,a.jsx)(h,{})})]}),(0,a.jsx)(s.Kw,{name:"class",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:["Accent ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(s.D0,{as:"select",name:"accent",className:"appearance-none bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-3 pr-10 shadow-sm transition duration-200",children:[(0,a.jsx)("option",{value:"",children:"Select accent"}),O.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,a.jsx)(h,{})})]}),(0,a.jsx)(s.Kw,{name:"accent",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:["Topic ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(s.D0,{type:"text",name:"topic",className:"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-3 shadow-sm transition duration-200",placeholder:"What do you want to talk about?"}),(0,a.jsx)(s.Kw,{name:"topic",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:["Mood ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(s.D0,{as:"select",name:"mood",className:"appearance-none bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-3 pr-10 shadow-sm transition duration-200",children:[(0,a.jsx)("option",{value:"",children:"Select mood"}),C.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,a.jsx)(h,{})})]}),(0,a.jsx)(s.Kw,{name:"mood",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:["Difficulty Level"," ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(s.D0,{as:"select",name:"difficulty",className:"appearance-none bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-3 pr-10 shadow-sm transition duration-200",children:[(0,a.jsx)("option",{value:"",children:"Select difficulty"}),S.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,a.jsx)(h,{})})]}),(0,a.jsx)(s.Kw,{name:"difficulty",component:"div",className:"text-red-500 text-sm mt-1"})]})]}),(0,a.jsx)("div",{className:"flex justify-center mt-8",children:(0,a.jsx)(c.P.button,{type:"submit",disabled:x||!(e&&t),className:`px-8 py-4 rounded-xl font-bold text-white shadow-lg transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-indigo-300/50 ${x||!(e&&t)?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700"}`,whileHover:x||!(e&&t)?{}:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(99, 102, 241, 0.4)"},whileTap:x||!(e&&t)?{}:{scale:.98},children:x?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(c.P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"mr-3",children:(0,a.jsx)(d.hW,{})}),"Generating..."]}):(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(d.T_n,{className:"mr-2"}),"Generate Paragraph"]})})})]})})},"form"):(0,a.jsx)(c.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"mt-4",children:(0,a.jsxs)(c.P.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 bg-gradient-to-br from-indigo-50/50 to-purple-50/50 rounded-xl border border-indigo-100 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-indigo-900",children:"Your AI-Generated Paragraph"}),(0,a.jsxs)(c.P.button,{onClick:()=>{b&&j.current?(j.current.pause(),f(!1)):q()},disabled:v,className:`p-3 rounded-xl relative overflow-hidden ${v?"text-indigo-300 cursor-not-allowed":b?"bg-indigo-100 text-indigo-700":"bg-white text-indigo-600 hover:bg-indigo-50 border border-indigo-200"} transition-all duration-300 shadow-sm`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":b?"Pause audio":"Listen to paragraph",children:[v?(0,a.jsx)(c.P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:(0,a.jsx)(d.hW,{className:"text-xl"})}):b?(0,a.jsx)(d.kwt,{className:"text-xl"}):(0,a.jsx)(d.pPd,{className:"text-xl"}),b&&!v&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center -space-x-1",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(c.P.span,{className:"w-1 h-2 bg-indigo-500 rounded-full",animate:{height:["0.25rem","1rem","0.25rem"]},transition:{duration:1.5,repeat:1/0,delay:.15*t}},t))})]})]}),(0,a.jsx)(c.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-xl shadow-inner border border-gray-100",children:(0,a.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line text-lg",children:r})}),(0,a.jsxs)("div",{className:"mt-6 flex justify-between",children:[(0,a.jsx)(c.P.button,{onClick:()=>N("form"),whileHover:{scale:1.03},whileTap:{scale:.98},className:"px-5 py-2.5 text-indigo-600 bg-white border border-indigo-200 rounded-lg hover:bg-indigo-50 transition-colors font-medium shadow-sm",children:"Create New"}),(0,a.jsx)(c.P.button,{onClick:()=>{if(!r)return void p.oR.error("No paragraph generated to practice");let e=encodeURIComponent(r);t.push(`/practice?paragraph=${e}&essay_id=${g}`)},whileHover:{scale:1.05,boxShadow:"0 5px 15px -3px rgba(99, 102, 241, 0.3)"},whileTap:{scale:.98},className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all font-bold shadow-md",children:"Start Practice Now"})]})]})},"paragraph")})})]})})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4029:(e,t,r)=>{Promise.resolve().then(r.bind(r,920))},6454:(e,t,r)=>{Promise.resolve().then(r.bind(r,4426)),Promise.resolve().then(r.bind(r,2359))},6998:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(7413),i=r(920);function s(){return(0,a.jsx)(i.default,{})}},8734:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(7413),i=r(7732),s=r(2575);function n({children:e}){return(0,a.jsx)(i.default,{children:(0,a.jsx)(s.default,{children:e})})}r(1120)},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[447,43,658,868,336,587,23,437,752],()=>r(1977));module.exports=a})();